# PokeMMO自动化 - Android打包指南

## 准备工作

1. 安装Python环境（推荐Python 3.8或3.9）
2. 安装必要的依赖：
   ```
   pip install buildozer
   ```
3. 安装安卓开发环境（需要Java JDK、Android SDK、NDK等）

## 打包步骤

### 方法一：使用提供的脚本（推荐）

1. 确保当前目录包含以下文件：
   - pokemmo_automation_android.py （Android版本主程序）
   - requirements_kivy.txt （依赖列表）
   - buildozer.spec （Buildozer配置文件）

2. 初始化Buildozer环境：
   ```
   buildozer init
   ```

3. 运行打包命令：
   ```
   buildozer -v android debug
   ```

4. 打包完成后，APK文件将位于 bin/ 目录下

### 方法二：使用Docker（更简单，避免环境问题）

1. 安装Docker
2. 运行以下命令：
   ```
   docker run --rm -v $(pwd):/home/user/hostcwd -w /home/user/hostcwd kivy/buildozer:latest buildozer -v android debug
   ```

## 注意事项

1. 首次打包会下载大量依赖，需要较长时间和稳定网络
2. 确保有足够的磁盘空间（至少10GB）
3. 如果遇到编译错误，通常是由于依赖版本不兼容导致的

## 源代码说明

1. 原始的Windows版本源代码已保留在：
   - pokemmo_automation.py

2. Android版本的源代码在：
   - pokemmo_automation_android.py

3. 两个版本的主要区别：
   - Android版本使用Kivy框架进行GUI开发
   - Android版本适配了触屏操作
   - Android版本移除了对Windows特定API的依赖

## 常见问题排查

1. 找不到Java/JDK：确保已正确安装并配置JAVA_HOME环境变量
2. 内存不足：可以修改buildozer.spec中的android.jdk_path和其他JVM参数
3. 网络问题：考虑使用代理或更换下载源

## 后续修改指南

如需修改代码：
1. 编辑相应版本的.py文件
2. 重新运行打包命令生成新的APK
3. 对于Android版本，修改后需要重新打包整个应用