# Pokemmo自动抓宠工具

这是一个用于Pokemmo游戏的自动抓宠脚本，可以在PC和手机上运行。该工具能够自动移动以遇怪、按规律释放技能、自动丢球捕捉，并在PP值用完后自动停止。

## 功能特点

- **自动移动**：支持多种移动模式（随机、圆形等）以提高遇怪效率
- **智能战斗**：按设定规律自动使用技能，PP值监控
- **自动捕捉**：检测到合适时机自动丢球
- **跨平台支持**：同时支持PC和手机设备
- **图形界面**：友好的配置界面，方便设置各种参数
- **全局快捷键**：支持Ctrl+F1快速开始/停止
- **新增功能**：
  - 虚拟按钮界面，支持触屏操作
  - 目标宠物选择和图像识别功能
  - 捕捉前技能预设功能
  - 宠物状态检测（低血量、睡眠、麻痹）
  - 非目标宠物自动逃跑

## 安装说明

### 1. 安装Python

确保您的系统已安装Python 3.7或更高版本。

### 2. 安装依赖

在命令行中运行以下命令安装所需的依赖包：

```bash
pip install -r requirements.txt
```

### 3. 手机用户额外配置（可选）

如果您在手机上使用，请确保：

1. 启用手机开发者选项
2. 开启USB调试
3. 安装ADB工具并确保可以连接到您的设备

## 使用方法

1. 运行主程序：

```bash
python pokemmo_automation.py
```

2. 基础设置：
   - 在配置界面中设置：
     - 移动按键
     - 技能按键
     - 精灵球按键
     - 设备类型（PC或手机）
   - 保存配置

3. 宠物捕捉设置：
   - 切换到"宠物捕捉设置"标签页
   - 输入目标宠物名称
   - 点击"添加宠物图像模板"按钮，根据提示将宠物图像显示在屏幕中央进行截图
   - 设置捕捉前要使用的技能（用逗号分隔）
   - 选择捕捉条件（任何状态、低血量、睡眠状态、麻痹状态）
   - 点击"保存宠物捕捉设置"按钮

4. 控制操作：
   - 将游戏窗口置于前台
   - 点击"开始自动化"按钮或使用Ctrl+F1快捷键启动脚本
   - 点击"显示虚拟按钮"可打开浮动的虚拟按钮窗口，方便触屏操作
   - 完成后，点击"停止自动化"按钮或再次按Ctrl+F1停止脚本

## 自动捕捉流程

1. 脚本会自动移动以遇怪
2. 遇到精灵后，会自动识别是否为目标宠物：
   - 如果是目标宠物：执行预设的捕捉前技能，然后在满足捕捉条件时扔球
   - 如果不是目标宠物：直接逃跑
3. 捕捉或逃跑后，继续移动遇怪

## 注意事项

- 使用该工具可能违反游戏规则，请谨慎使用
- 建议在游戏中使用时，不要离开电脑太久
- 脚本使用基于图像识别的方法检测战斗，可能需要根据不同的游戏分辨率进行调整
- 在手机上使用时，确保ADB连接稳定
- 定期检查脚本运行状态，避免出现异常情况
- 宠物识别功能依赖于图像模板的质量，请确保截图清晰且宠物图像完整

## 自定义配置

程序会在首次运行时创建`pokemmo_config.json`配置文件，您可以手动编辑该文件进行更详细的配置。

## 常见问题

1. **无法检测到战斗**：可能需要调整屏幕截图区域或颜色检测参数
2. **按键无响应**：请检查按键配置是否正确，PC和手机的按键映射不同
3. **ADB连接问题**：请确保手机已正确连接并授权，ADB驱动已安装
4. **宠物识别不准确**：重新添加宠物图像模板，确保截图清晰且宠物图像完整

## 许可证

仅供学习和研究使用。

## 免责声明

使用本工具产生的所有后果由使用者自行承担，作者不承担任何责任。请遵守游戏规则，合理使用工具。